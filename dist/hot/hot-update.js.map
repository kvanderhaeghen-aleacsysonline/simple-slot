{"version":3,"file":"hot/hot-update.js","mappings":"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","sources":["webpack://testProject/./src/views/game.ts","webpack://testProject/webpack/runtime/getFullHash"],"sourcesContent":["import _ from 'lodash';\nimport * as PIXI from 'pixi.js';\nimport { createTickEventHandler, ITickEventHandler, animationUpdater } from \"@gp/utils\";\nimport { tweenInOutReel } from './animationData';\n\nconst NUM_ROWS: number = 3;\nconst EXTRA_ROWS: number = 2;\nconst TOTAL_ROWS: number = NUM_ROWS + EXTRA_ROWS;\nconst NUM_COLS: number = 5;\nconst SYMBOL_SIZE: number = 100;\nconst ROLL_TIME: number = 3000;\nconst SPEED: number = 4;\nconst START_X: number = 160;\nconst START_Y: number = 50;\nconst DELAY_BETWEEN_REELS: number = 75;\n\nconst IMAGES: string[] = [\n  'https://i.imgur.com/ysGjQFD.png',\n  'https://i.imgur.com/JtCnRw4.png',\n  'https://i.imgur.com/HfBoYMx.png',\n  'https://i.imgur.com/dCWn3MZ.png',\n  'https://i.imgur.com/lBSpyKv.png',\n  'https://i.imgur.com/Al5vKBJ.png',\n  'https://i.imgur.com/BcQ5p5r.png',\n  'https://i.imgur.com/4S1VG1b.png',\n  'https://i.imgur.com/QCI1pD8.png',\n  'https://i.imgur.com/O9RBxx1.png',\n];\n\nconst FOREGROUND: string = 'https://i.imgur.com/poKS2IL.png';\n\nexport class SlotMachine {\n    private app?: PIXI.Application<HTMLCanvasElement>;\n    private tickEventHandler: ITickEventHandler = createTickEventHandler();\n\n    private symbols: PIXI.Texture[] = [];\n    private reels: PIXI.Container[];\n    private result: number[][];\n    private currentRows: number[];\n    private endResult: boolean[];\n    private rolling: boolean;\n    private reelsRolling: boolean[];\n    private reelRandomness: number[];\n\n    constructor() {\n        this.reels = [];\n        this.result = [];\n        this.currentRows = Array(NUM_COLS).fill(-1);\n        this.endResult = Array(NUM_COLS).fill(false);\n        this.rolling = false;\n        this.reelsRolling = Array(NUM_COLS).fill(false);\n        this.reelRandomness = Array(NUM_COLS).fill(-1);\n\n        this.app = new PIXI.Application<HTMLCanvasElement>({ \n            background: '#1099bb', \n            width: 800,\n            height: 600, \n        });\n        \n        document.body.appendChild(this.app.view);\n\n        for (let i: number = 0; i < IMAGES.length; i++) {\n            const img: HTMLImageElement = new Image();\n            img.crossOrigin = \"Anonymous\";\n            img.src = IMAGES[i];\n            this.symbols.push(PIXI.Texture.from(img));\n        }\n\n        const start: HTMLElement = document.getElementById('start')!;\n        start.addEventListener('click', () => {\n            if (!this.rolling) {\n                this.startRoll();\n            }\n        });\n    }\n    \n    public init(): void {\n        this.createReels();\n        this.setReels(true);\n        animationUpdater.init(this.tickEventHandler);\n    }\n\n    private lastTime = Date.now();\n    public update(): void {\n        const updater = (): void => {\n            const currentTime = Date.now();            \n            const deltaTime = currentTime - this.lastTime;  \n            this.lastTime = currentTime;\n            this.tickEventHandler.updateEvents(deltaTime * 0.001);\n            requestAnimationFrame(updater);\n        };\n        updater();\n    }\n\n    private createReels(): void {\n        for (let col: number = 0; col < NUM_COLS; col++) {\n        const reel: PIXI.Container = new PIXI.Container();\n        reel.x = START_X + (col * SYMBOL_SIZE + col * 20);\n        reel.y = SYMBOL_SIZE * 0.5;\n        this.app!.stage.addChild(reel);\n        this.reels.push(reel);\n        for (let row: number = 0; row < TOTAL_ROWS; row++) {\n            const symbolIndex: number = this.rand(0, IMAGES.length - 1);\n            const symbol: PIXI.Sprite = new PIXI.Sprite(this.symbols[symbolIndex]);\n            symbol.anchor.set(0.5);\n            symbol.y = START_Y + (row * SYMBOL_SIZE);\n            reel.addChild(symbol);\n        }\n        }\n        this.app!.stage.addChild(new PIXI.Sprite(PIXI.Texture.from(FOREGROUND)));\n    }\n\n    public startRolling(): void {\n        this.currentRows = Array(NUM_COLS).fill(-1);\n        this.endResult = Array(NUM_COLS).fill(false);\n        this.rolling = true;\n\n        this.result = Array.from({ length: NUM_COLS }, () =>\n        Array.from({ length: TOTAL_ROWS }, () => this.rand(0, IMAGES.length - 1))\n        );\n        console.log(\"Result:\", this.result);\n\n        const startTime: number = Date.now();\n        let finishing = false;\n        const rollUpdater = (): void => {\n            const elapsed: number = Date.now() - startTime;\n            if (this.rolling) {\n                this.reelsRolling.forEach((item: boolean, index: number) => {\n                    if (item) {\n                        this.updateReel(index);\n                    }\n                    if (!item && this.endResult[index]) {\n                        this.setReel(index);\n                        this.stopReel(index);\n\n                        this.endResult[index] = false;\n                        if(index === this.reels.length - 1) {\n                            this.rolling = false;\n                        }\n                    }\n                })\n                \n                requestAnimationFrame(rollUpdater);\n                if (elapsed >= ROLL_TIME && !finishing) {\n                    finishing = true;\n                    this.stopRoll();\n                }\n            }\n        };\n        rollUpdater();\n    }\n\n    private startRoll(): void {\n        this.reelsRolling = Array(NUM_COLS).fill(false);\n        \n        let delay = 0;\n        this.startRolling();\n        for(let i: number = 0; i < this.reels.length; i++) {\n            setTimeout(() => {\n                this.startReel(i)\n            }, delay);\n            delay += DELAY_BETWEEN_REELS;\n        }\n    }\n\n    private startReel(col: number): void {\n        const reel: PIXI.Container = this.reels[col];\n        tweenInOutReel(true, (data: { y: number}) => {\n            reel.y = data.y;\n        }, () => {\n            this.reelsRolling[col] = true;\n        });\n    }\n\n    private stopRoll(): void {\n        let delay = 0;\n        for(let i: number = 0; i < this.reels.length; i++) {\n            setTimeout(() => {\n                this.endResult[i] = true;\n            }, delay);\n            delay += DELAY_BETWEEN_REELS;\n        }\n    }\n\n    private stopReel(col: number): void {\n        const reel: PIXI.Container = this.reels[col];\n        tweenInOutReel(false, (data: { y: number}) => {\n            reel.y = data.y;\n        }, () => {\n            if (col === this.reels.length - 1) {\n                this.rolling = false;\n            }\n        });\n    }\n\n    private updateReel(col: number): void {\n        this.reels[col].children.forEach((element: PIXI.DisplayObject, row: number) => {\n            const symbol = element as PIXI.Sprite;\n            symbol.y += ((SYMBOL_SIZE / 10) * SPEED);\n            if (symbol.y >= START_Y + (TOTAL_ROWS * SYMBOL_SIZE)) {\n                symbol.y = START_Y;\n\n                if (!this.endResult[col]) {\n                    symbol.texture = this.symbols[this.getRandomSymbol(col)];\n                } else {\n                    if (this.currentRows[col] < 0) {\n                        this.currentRows[col] = TOTAL_ROWS - 1\n                    }\n                    symbol.texture = this.symbols[this.result[col][this.currentRows[col]]];\n                    if (this.currentRows[col] >= 0) {\n                        this.currentRows[col]--;\n                        if (this.currentRows[col] < 0) {\n                            this.reelsRolling[col] = false;\n                            return;\n                        }\n                    }\n                }\n            }\n        });\n    }\n\n    private getRandomSymbol(col: number): number {\n        let symbolIndex = -1;\n        do {\n            symbolIndex = this.rand(0, IMAGES.length - 1)\n        } while (this.reelRandomness[col] === symbolIndex);\n        this.reelRandomness[col] = symbolIndex;\n        return symbolIndex;\n    }\n\n\n    private updateReels(): void {\n        for (let i: number = 0; i < this.reels.length; i++) {\n            this.updateReel(i);\n        }\n    }\n\n    private setReels(randomSymbol: boolean = false): void {\n        for (let col: number = 0; col < this.reels.length; col++) {\n            this.setReel(col, randomSymbol);\n        }\n    }\n\n    private setReel(column: number, randomSymbol: boolean = false): void {\n        this.reels[column].children.forEach((element: PIXI.DisplayObject, row: number) => {\n            const symbol = element as PIXI.Sprite;\n            symbol.y = START_Y + (row * SYMBOL_SIZE);\n            if (randomSymbol) {\n                const symbolIndex: number = this.rand(0, IMAGES.length - 1);\n                symbol.texture = this.symbols[symbolIndex];\n            }\n        });\n    }\n\n    private rand(min: number, max: number){\n        return (Math.floor(Math.pow(10,14)*Math.random()*Math.random())%(max-min+1))+min;\n    }\n}","__webpack_require__.h = () => (\"1e073964d3c6f6a8fd4a\")"],"names":[],"sourceRoot":""}